# ğŸš€ Git ä¸Šå‚³èˆ‡ä¼ºæœå™¨éƒ¨ç½²æŒ‡ä»¤

## ğŸ“‹ æ­¥é©Ÿ 1: æœ¬åœ° Git ä¸Šå‚³ï¼ˆWindows PowerShellï¼‰

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼ˆphototype-uiï¼‰åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

```powershell
# 1. æŸ¥çœ‹ä¿®æ”¹çš„æª”æ¡ˆ
git status

# 2. åŠ å…¥æ‰€æœ‰ä¿®æ”¹çš„æª”æ¡ˆï¼ˆåªåŠ å…¥ NetworkGraph.tsx çš„ä¿®æ”¹ï¼‰
git add app/components/NetworkGraph.tsx

# æˆ–è€…åŠ å…¥æ‰€æœ‰ä¿®æ”¹çš„æª”æ¡ˆ
git add .

# 3. æäº¤ä¿®æ”¹
git commit -m "ä¿®å¾©ç¶²çµ¡åœ–è·‘ç‰ˆå•é¡Œï¼šå¼·åˆ¶è‡ªå‹•ç¸®æ”¾ç¢ºä¿æ‰€æœ‰ç¯€é»åœ¨ç•«é¢å…§"

# 4. æ¨é€åˆ° GitHub
git push origin main
```

## ğŸ“‹ æ­¥é©Ÿ 2: ä¼ºæœå™¨ç«¯æ›´æ–°ï¼ˆSSH ç™»å…¥ä¼ºæœå™¨å¾ŒåŸ·è¡Œï¼‰

SSH ç™»å…¥ä¼ºæœå™¨å¾Œï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š

```bash
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd /home/apisix/projects/teacher-collaboration-system/phototype-ui

# 2. åŸ·è¡Œæ›´æ–°è…³æœ¬ï¼ˆè‡ªå‹•æ‹‰å–ã€å»ºç½®ã€é‡å•Ÿï¼‰
./update-server.sh
```

æˆ–è€…æ‰‹å‹•åŸ·è¡Œï¼š

```bash
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd /home/apisix/projects/teacher-collaboration-system/phototype-ui

# 2. æ‹‰å–æœ€æ–°ä»£ç¢¼
git pull origin main

# 3. å®‰è£æ–°çš„ä¾è³´ï¼ˆå¦‚æœæœ‰ï¼‰
npm install

# 4. é‡æ–°å»ºç½®
npm run build

# 5. é‡å•Ÿ PM2 æœå‹™
pm2 restart phototype-ui

# 6. æŸ¥çœ‹æœå‹™ç‹€æ…‹
pm2 status

# 7. æŸ¥çœ‹æ—¥èªŒï¼ˆç¢ºèªæ²’æœ‰éŒ¯èª¤ï¼‰
pm2 logs phototype-ui --lines 50
```

## ğŸ” é©—è­‰éƒ¨ç½²

éƒ¨ç½²å®Œæˆå¾Œï¼Œåœ¨ç€è¦½å™¨é–‹å•Ÿï¼š
```
http://140.115.126.19:3000
```

æ¸¬è©¦ç¶²çµ¡åœ–åŠŸèƒ½ï¼Œç¢ºèªï¼š
- âœ… é€²å…¥ç¶²çµ¡åœ–æ™‚ï¼Œæ‰€æœ‰ç¯€é»éƒ½åœ¨ç•«é¢å…§
- âœ… æ²’æœ‰ç¯€é»è·‘å‡ºç•«é¢ç¯„åœ
- âœ… è‡ªå‹•ç¸®æ”¾æ­£å¸¸é‹ä½œ

## ğŸ“ å¸¸ç”¨ PM2 æŒ‡ä»¤

```bash
# æŸ¥çœ‹æœå‹™ç‹€æ…‹
pm2 status

# æŸ¥çœ‹æ—¥èªŒ
pm2 logs phototype-ui

# æŸ¥çœ‹æœ€è¿‘ 50 è¡Œæ—¥èªŒ
pm2 logs phototype-ui --lines 50

# é‡å•Ÿæœå‹™
pm2 restart phototype-ui

# åœæ­¢æœå‹™
pm2 stop phototype-ui

# å•Ÿå‹•æœå‹™
pm2 start phototype-ui
```

## âš ï¸ æ³¨æ„äº‹é …

1. **ç¢ºä¿ Git å·²è¨­å®š**ï¼šå¦‚æœç¬¬ä¸€æ¬¡æ¨é€ï¼Œå¯èƒ½éœ€è¦è¨­å®š Git ä½¿ç”¨è€…è³‡è¨Š
   ```powershell
   git config user.name "æ‚¨çš„åç¨±"
   git config user.email "æ‚¨çš„email"
   ```

2. **ç¢ºèªåˆ†æ”¯åç¨±**ï¼šå¦‚æœæ‚¨çš„åˆ†æ”¯ä¸æ˜¯ `main`ï¼Œè«‹å°‡æŒ‡ä»¤ä¸­çš„ `main` æ”¹ç‚ºæ‚¨çš„åˆ†æ”¯åç¨±ï¼ˆä¾‹å¦‚ `master`ï¼‰

3. **ä¼ºæœå™¨æ¬Šé™**ï¼šç¢ºä¿ SSH ä½¿ç”¨è€…æœ‰åŸ·è¡Œ `update-server.sh` çš„æ¬Šé™
   ```bash
   chmod +x update-server.sh
   ```

4. **å»ºç½®æ™‚é–“**ï¼š`npm run build` å¯èƒ½éœ€è¦å¹¾åˆ†é˜ï¼Œè«‹è€å¿ƒç­‰å¾…

5. **æª¢æŸ¥éŒ¯èª¤**ï¼šå¦‚æœéƒ¨ç½²å¾Œæœ‰å•é¡Œï¼ŒæŸ¥çœ‹æ—¥èªŒï¼š
   ```bash
   pm2 logs phototype-ui --err
   ```


